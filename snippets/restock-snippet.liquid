
{% comment %}
    This snippet is auto generated by Notify Me and will be overwritten. Don't edit it manually.
{% endcomment %}

<script id="ReStock-config">
    var _ReStockConfig = window._ReStockConfig || {};
    {{  }}
    {%- if product -%}
        _ReStockConfig.product = {id : {{ product.id | json }}, title : {{ product.title | json }}, handle : {{ product.handle | json }}, available : {{ product.available | json }}, featured_image : {{ product.featured_image | json }}, images : {{ product.images | json }}, price : {{ product.price | json }}, compare_at_price: {{ product.compare_at_price | json }}, vendor : {{ product.vendor | json }},selling_plan_groups: {{ product.selling_plan_groups | json }}, variants: [{%- for variant in product.variants -%} {id: {{ variant.id | json }}, title: {{ variant.title | json }}, available: {{ variant.available | json }}, featured_image: {{ variant.featured_image | json }}, name: {{ variant.name | json }}, price: {{ variant.price | json }}, compare_at_price: {{ variant.compare_at_price | json }}, inventory_management: {{ variant.inventory_management | json }}, sku: {{ variant.sku | json }}}, {%- endfor -%}]}
        {{  }}
        _ReStockConfig.preorder_variant_ids=[];
        {{  }}
        {%- for variant in product.variants -%}
            {%- if variant.inventory_policy == 'continue' and variant.inventory_quantity <= 0 -%}
                _ReStockConfig.preorder_variant_ids.push({{ variant.id }})
                {{  }}
            {%- endif -%}

            var selling_plans = _ReStockConfig.product.variants[{% increment base %}].selling_plans = [];

            {% for selling_plan_allocation in variant.selling_plan_allocations %}
              selling_plans.push({{ selling_plan_allocation.selling_plan | json }});
            {% endfor %}
        {%- endfor -%}
        {{  }}
    {%- elsif collection.products -%}
        _ReStockConfig.products_count = {{ shop.products_count }}
        _ReStockConfig.preorder_variant_ids=[];
        {{  }}
        {%- for product in collection.products -%}
            {%- for variant in product.variants -%}
                {%- if variant.inventory_policy == 'continue' and variant.inventory_quantity <= 0 -%}
                    _ReStockConfig.preorder_variant_ids.push({{ variant.id }})
                    {{  }}
                {%- endif -%}
            {%- endfor -%}
        {%- endfor -%}
    {%- endif -%}
</script>
<script id="ReStock-sdk" defer src="https://cdn.hengam.io/restock-alerts-sdk.js"></script>
